# Full Example: JLoop in Action

This page demonstrates how to use **GameLoop**, **LoopConfig**, **Startable**, and **Updatable** together in a simple loop.

---
## Demo Code

```java
import javax.imageio.ImageIO;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.util.Random;

// Player implements both Startable and Updatable
class Player implements Startable, Updatable
{
    private BufferedImage sprite;
    private int x, y;

    @Override
    public void start()
    {
        try
        {
            // Load a sprite before the loop begins
            sprite = ImageIO.read(new File("assets/player.png"));
            x = 100;
            y = 200;
            System.out.println("Player initialized at (" + x + ", " + y + ")");
        }
        catch (IOException e)
        {
            System.err.println("Could not load player sprite!");
        }
    }

    @Override
    public void update()
    {
        // Move player slightly each tick
        x += 2;
        System.out.println("Player moved to (" + x + ", " + y + ")");
    }
}
```

```java
// Enemy implements only Updatable
class Enemy implements Updatable
{
    private int x, direction, speed;
    private Random random = new Random();

    public Enemy(int startX, int speed)
    {
        this.x = startX;
        this.speed = speed;
        this.direction = 1;
    }

    @Override
    public void update()
    {
        x += direction * speed;

        // Occasionally flip direction to patrol
        if (random.nextFloat() < 0.05f)
        {
            direction *= -1;
            System.out.println("Enemy turned around!");
        }

        System.out.println("Enemy at x = " + x);
    }
}
```

```java
import java.util.Random;
import javax.imageio.ImageIO;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

public class BasicLoopDemo
{
    public static void main(String[] args)
    {
        // Configure loop
        LoopConfig config = new LoopConfig();
        config.setTargetFPS(60);  // Smooth rendering
        config.setTargetUPS(30);  // Physics/game logic runs at 30 updates/sec

        // Create loop
        GameLoop loop = new GameLoop(config);

        // Create entities
        Player player = new Player();
        Enemy enemy = new Enemy(0, 3);

        // Register entities
        loop.addStartable(player);   // Loads sprite and sets position
        loop.addUpdatable(player);   // Moves player each tick
        loop.addUpdatable(enemy);    // Enemy patrols back and forth

        // Add custom callbacks
        loop.setUpdateCallback(() -> System.out.println("Global update logic..."));
        loop.setRenderCallback(() -> System.out.println("Drawing world..."));

        // Start loop
        loop.start();
    }
}
```

---
## What This Demo Shows

1. `LoopConfig` customizes FPS and UPS.
2. `GameLoop` runs updates and rendering on a separate thread.
3. `Player` implements **both** `Startable` and `Updatable`.
	- `start()` loads resources and initializes position.
    - `update()` moves the player each tick.
4. `Enemy` is another **Updatable**, patrolling back and forth with simple AI.
5. Multiple **Updatables** are supported â€” both `Player` and `Enemy` update each tick.
6. Callbacks (`setUpdateCallback`, `setRenderCallback`) give extra hooks for global logic or rendering.
